"use strict";(self.webpackChunkWeb=self.webpackChunkWeb||[]).push([[426],{6426:(F,h,s)=>{s.r(h),s.d(h,{RutasModule:()=>y});var p=s(6895),l=s(9965),r=s(433);class f{}var v=s(5226),d=s.n(v),t=s(8256),Z=s(4142),u=s(529);let g=(()=>{class o{constructor(e){this.http=e,this.url="https://apiloopback1.herokuapp.com/",this.token=""}store(e){return this.http.post(`${this.url}/rutas`,{origen:e.origen,destino:e.destino,tiempo:e.tiempo})}getAll(){return this.http.get(`${this.url}/rutas`,{headers:new u.WM({Authorization:`Bearer ${this.token}`})})}update(e){return this.http.patch(`${this.url}/usuarios/${e.id}`,{origen:e.origen,destino:e.destino,tiempo:e.tiempo},{headers:new u.WM({Authorization:`Bearer ${this.token}`})})}delete(e){return this.http.delete(`${this.url}/rutas/${e}`,{headers:new u.WM({Authorization:`Bearer ${this.token}`})})}getWithId(e){return this.http.get(`${this.url}/rutas/${e}`,{headers:new u.WM({Authorization:`Bearer ${this.token}`})})}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(u.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function A(o,n){if(1&o&&(t.TgZ(0,"option",14),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.s9C("value",e.ciudad),t.xp6(1),t.Oqu(e.ciudad)}}function T(o,n){if(1&o&&(t.TgZ(0,"option",14),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.s9C("value",e.ciudad),t.xp6(1),t.Oqu(e.ciudad)}}let C=(()=>{class o{constructor(e,i,a,c){this.fb=e,this.aeropuertoService=i,this.rutaService=a,this.router=c,this.fgValidacion=this.fb.group({origen:["",[r.kI.required]],destino:["",[r.kI.required]],tiempo:["",[r.kI.required]]}),this.listadoAeropuertos=[]}ngOnInit(){this.getAeropuertos()}store(){let e=new f;e.origen=this.fgValidacion.controls.origen.value,e.destino=this.fgValidacion.controls.destino.value,e.tiempo=this.fgValidacion.controls.tiempo.value,this.rutaService.store(e).subscribe(i=>{d().fire("Creado correctamente!","","success"),this.router.navigate(["/rutas/get"])},i=>{console.log(i),alert("Error en el envio")})}getAeropuertos(){this.aeropuertoService.getAll().subscribe(e=>{this.listadoAeropuertos=e,console.log(e)})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(r.qu),t.Y36(Z.X),t.Y36(g),t.Y36(l.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-create"]],decls:24,vars:4,consts:[[1,"container"],[1,"center-align"],[1,"col","s12",3,"formGroup","ngSubmit"],[1,"input-field","col","s6"],["formControlName","origen",1,"browser-default"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","destino",1,"browser-default"],[1,"row"],["formControlName","tiempo","type","text",1,"validate"],["for","tiempo"],[1,"row","center-align"],["type","submit","name","action",1,"btn","waves-effect","waves-light",3,"disabled"],[1,"material-icons","right"],[3,"value"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"h3",1),t._uU(2,"Registrar Rutas"),t.qZA(),t.TgZ(3,"form",2),t.NdJ("ngSubmit",function(){return i.store()}),t.TgZ(4,"div",3)(5,"select",4)(6,"option",5),t._uU(7,"Seleccione el aeropuerto origen"),t.qZA(),t.YNc(8,A,2,2,"option",6),t.qZA()(),t.TgZ(9,"div",3)(10,"select",7)(11,"option",5),t._uU(12,"Seleccione el aeropuerto destino"),t.qZA(),t.YNc(13,T,2,2,"option",6),t.qZA()(),t.TgZ(14,"div",8)(15,"div",3),t._UZ(16,"input",9),t.TgZ(17,"label",10),t._uU(18,"Tiempo"),t.qZA()()(),t.TgZ(19,"div",11)(20,"button",12),t._uU(21,"Enviar "),t.TgZ(22,"i",13),t._uU(23,"send"),t.qZA()()()()()),2&e&&(t.xp6(3),t.Q6J("formGroup",i.fgValidacion),t.xp6(5),t.Q6J("ngForOf",i.listadoAeropuertos),t.xp6(5),t.Q6J("ngForOf",i.listadoAeropuertos),t.xp6(7),t.Q6J("disabled",!i.fgValidacion.valid))},dependencies:[p.sg,r._Y,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.JL,r.sg,r.u]}),o})(),b=(()=>{class o{constructor(e,i,a,c){this.fb=e,this.rutaService=i,this.router=a,this.route=c,this.fgValidacion=this.fb.group({id:["",[r.kI.required]],origen:["",[r.kI.required]],destino:["",[r.kI.required]],tiempo:["",[r.kI.required]]})}getWithId(e){this.rutaService.getWithId(e).subscribe(i=>{console.log(i),this.fgValidacion.controls.id.setValue(e),this.fgValidacion.controls.origen.setValue(i.origen),this.fgValidacion.controls.destino.setValue(i.destino),this.fgValidacion.controls.tiempo.setValue(i.tiempo)})}edit(){let e=new f;e.id=this.fgValidacion.controls.id.value,e.origen=this.fgValidacion.controls.origen.value,e.destino=this.fgValidacion.controls.destino.value,e.tiempo=this.fgValidacion.controls.tiempo.value,this.rutaService.update(e).subscribe(i=>{d().fire("Editado Correctamente!","","success"),this.router.navigate(["/rutas/get"])},i=>{console.log(i),alert("Error en el envio")})}ngOnInit(){this.getWithId(this.route.snapshot.params.id)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(r.qu),t.Y36(g),t.Y36(l.F0),t.Y36(l.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-edit"]],decls:24,vars:2,consts:[[1,"container"],[1,"center-align"],[1,"col","s12",3,"formGroup","ngSubmit"],["formControlName","id","type","hidden",1,"validate"],[1,"row"],[1,"input-field","col","s6"],["formControlName","origen","type","text",1,"validate"],["for","origen",1,"active"],["formControlName","destino","type","text",1,"validate"],["for","destino",1,"active"],["formControlName","tiempo","type","text",1,"validate"],["for","tiempo",1,"active"],[1,"row","center-align"],["type","submit","name","action",1,"btn","waves-effect","waves-light",3,"disabled"],[1,"material-icons","right"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"h3",1),t._uU(2,"Editar Rutas"),t.qZA(),t.TgZ(3,"form",2),t.NdJ("ngSubmit",function(){return i.edit()}),t._UZ(4,"input",3),t.TgZ(5,"div",4)(6,"div",5),t._UZ(7,"input",6),t.TgZ(8,"label",7),t._uU(9,"Origen"),t.qZA()(),t.TgZ(10,"div",5),t._UZ(11,"input",8),t.TgZ(12,"label",9),t._uU(13,"Destino"),t.qZA()()(),t.TgZ(14,"div",4)(15,"div",5),t._UZ(16,"input",10),t.TgZ(17,"label",11),t._uU(18,"Tiempo"),t.qZA()()(),t.TgZ(19,"div",12)(20,"button",13),t._uU(21,"Editar "),t.TgZ(22,"i",14),t._uU(23,"send"),t.qZA()()()()()),2&e&&(t.xp6(3),t.Q6J("formGroup",i.fgValidacion),t.xp6(17),t.Q6J("disabled",!i.fgValidacion.valid))},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u]}),o})();function U(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"a",4)(9,"i",5),t._uU(10,"edit"),t.qZA()(),t.TgZ(11,"button",6),t.NdJ("click",function(){const c=t.CHM(e).$implicit,V=t.oxw();return t.KtG(V.delete(c.id))}),t.TgZ(12,"i",5),t._uU(13,"delete"),t.qZA()()()()}if(2&o){const e=n.$implicit;t.xp6(2),t.Oqu(e.origen),t.xp6(2),t.Oqu(e.destino),t.xp6(2),t.Oqu(e.tiempo),t.xp6(2),t.MGl("routerLink","/rutas/edit/",e.id,"")}}let q=(()=>{class o{constructor(e){this.rutaService=e,this.listado=[]}getAll(){this.rutaService.getAll().subscribe(e=>{this.listado=e,console.log(e)})}delete(e){console.log(e),d().fire({title:"\xbfEsta seguro de eliminar este registro?",showCancelButton:!0,confirmButtonText:"Aceptar"}).then(i=>{i.isConfirmed&&this.rutaService.delete(e).subscribe(a=>{d().fire("\xa1Eliminado correctamente!","","success"),this.getAll()})})}ngOnInit(){this.getAll()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(g))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-get"]],decls:15,vars:1,consts:[[1,"container"],["routerLink","/rutas/create",1,"btn"],[1,"table","responsive"],[4,"ngFor","ngForOf"],[1,"btn",3,"routerLink"],[1,"material-icons"],[1,"btn","red",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"br"),t.TgZ(2,"a",1),t._uU(3,"Registrar Ruta"),t.qZA(),t.TgZ(4,"table",2)(5,"thead")(6,"tr")(7,"th"),t._uU(8,"Origen"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Destino"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Tiempo"),t.qZA()()(),t.TgZ(13,"tbody"),t.YNc(14,U,14,4,"tr",3),t.qZA()()()),2&e&&(t.xp6(14),t.Q6J("ngForOf",i.listado))},dependencies:[p.sg,l.yS]}),o})();var m=s(2025);const _=[{path:"create",canActivate:[m.I],component:C},{path:"edit/:id",canActivate:[m.I],component:b},{path:"get",canActivate:[m.I],component:q},{path:"",pathMatch:"full",redirectTo:"get"}];let S=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[l.Bz.forChild(_),l.Bz]}),o})(),y=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[p.ez,r.u5,r.UX,S]}),o})()}}]);